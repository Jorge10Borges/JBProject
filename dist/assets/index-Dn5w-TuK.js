(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();class p extends HTMLElement{connectedCallback(){this.active=this.getAttribute("data-active")||document.body.dataset.active||"",this.render(),this.setupListeners()}render(){const t=document.body.dataset.sidebarOpen==="true",o=document.body.dataset.sidebarCollapsed==="true",e=`fixed md:static left-0 top-0 z-50 flex flex-col gap-1 p-4 ${o?"md:w-20":"md:w-56"} bg-brand-SlateBlue text-white min-h-dvh transition-transform md:translate-x-0`,n=t?"translate-x-0":"-translate-x-full",r=t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none",i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-layout-dashboard"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 4h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1" /><path d="M5 16h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1" /><path d="M15 12h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1" /><path d="M15 4h4a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1" /></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-message-2-dollar"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 9h8" /><path d="M8 13h6" /><path d="M13.5 19.5l-1.5 1.5l-3 -3h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v3.5" /><path d="M21 15h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5" /><path d="M19 21v1m0 -8v1" /></svg>',c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-password-user"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 17v4" /><path d="M10 20l4 -2" /><path d="M10 18l4 2" /><path d="M5 17v4" /><path d="M3 20l4 -2" /><path d="M3 18l4 2" /><path d="M19 17v4" /><path d="M17 20l4 -2" /><path d="M17 18l4 2" /><path d="M9 6a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /><path d="M7 14a2 2 0 0 1 2 -2h6a2 2 0 0 1 2 2" /></svg>',h='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-bar-to-right-dashed"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 12l-10 0" /><path d="M14 12l-4 4" /><path d="M14 12l-4 -4" /><path d="M20 4l0 3m0 13l0 -3m0 -3.5l0 -3" /></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrow-bar-to-left-dashed"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12l10 0" /><path d="M10 12l4 -4" /><path d="M10 12l4 4" /><path d="M4 20l0 -3m0 -13l0 3m0 3.5l0 3" /></svg>';this.innerHTML=`
      <button id="menu-toggle" aria-controls="app-sidenav" aria-expanded="${t}"
        class="md:hidden fixed top-1 left-1 z-50 rounded bg-brand-600 p-2 text-white shadow focus:outline-none focus:ring-2 focus:ring-brand-400">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="size-6">
          <path d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" stroke="currentColor" stroke-linecap="round" stroke-width="2" />
        </svg>
      </button>

      <div id="backdrop" class="md:hidden fixed inset-0 z-40 bg-black/40 transition-opacity ${r}"></div>

      <nav id="app-sidenav" class="${e} ${n} md:shrink-0" role="navigation" aria-label="Sidebar">
        <div class="mb-4 flex items-center justify-between">
          <span class="text-sm font-semibold tracking-wide">Panel</span>
          <div class="flex items-center gap-2">
            <button class="hidden md:inline-flex rounded px-2 py-1 hover:text-white" data-collapse>
              ${o?h:u}
            </button>
            <button class="md:hidden rounded px-2 py-1 text-xs bg-brand-600 hover:bg-brand-700" data-close>âœ•</button>
          </div>
        </div>
        ${this.link("Dashboard","index.html","home",i,o)}
        ${this.link("Proyectos","proyectos.html","proyectos",c,o)}
        ${this.link("Presupuesto","presupuesto.html","presupuesto",l,o)}
      </nav>
    `}link(t,o,a,e,n){const r=this.active===a;return`
      <a href="${o}" class="rounded px-3 py-2 text-sm block ${r?"bg-brand-Glaucous":"hover:bg-brand-Glaucous/55"}">
        <div class="flex items-center">
          <div class="icon mr-2">
            ${e}
          </div>
          <span class="label ${n?"hidden md:inline-block md:whitespace-nowrap md:overflow-hidden md:w-0":""}">${t}</span>
        </div>
      </a>`}setupListeners(){this.addEventListener("click",t=>{const o=t.target.closest("button");if(o){if(o.id==="menu-toggle"){const e=document.body.dataset.sidebarOpen==="true";document.body.dataset.sidebarOpen=e?"false":"true",this.render();return}if(o.dataset.close!==void 0){document.body.dataset.sidebarOpen="false",this.render();return}if(o.dataset.collapse!==void 0){const e=document.body.dataset.sidebarCollapsed==="true";document.body.dataset.sidebarCollapsed=e?"false":"true",this.render();return}}if(t.target&&t.target.id==="backdrop"){document.body.dataset.sidebarOpen="false",this.render();return}t.target.closest("a")&&window.innerWidth<768&&(document.body.dataset.sidebarOpen="false")}),document.addEventListener("sidebar:toggle",()=>{const t=document.body.dataset.sidebarOpen==="true";document.body.dataset.sidebarOpen=t?"false":"true",this.render()}),window.addEventListener("resize",()=>{window.innerWidth>=768&&(document.body.dataset.sidebarOpen="true",this.render())})}}customElements.define("app-side-nav",p);function d(){document.body.dataset.sidebarOpen=window.innerWidth>=768?"true":"false",document.querySelectorAll("[data-sidebar-toggle]").forEach(t=>{t.addEventListener("click",()=>{document.dispatchEvent(new CustomEvent("sidebar:toggle"))})})}document.readyState!=="loading"?d():document.addEventListener("DOMContentLoaded",d);document.body.dataset.active="home";const b=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.0.200"?"http://192.168.0.200/JBProject/api/":"/api/";async function m(){try{const s=await fetch(b+"projects.php");if(!s.ok)throw new Error("Error al cargar proyectos");return await s.json()}catch(s){return console.error("No se pudieron cargar los proyectos",s),[]}}function f(s){const t=document.getElementById("project-selector-container");t&&(t.innerHTML=`
    <label for="project-selector" class="block text-sm font-medium text-zinc-200 mb-1">Proyecto</label>
    <select id="project-selector" class="w-full max-w-xs rounded border border-zinc-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500">
      <option value="all">Todos</option>
      ${s.map(o=>`<option value="${o.id}">${o.name}</option>`).join("")}
    </select>
  `)}m().then(f);
